<html>
    <head>
        <style>body{font-family:Arial}input{padding:10px;font-size:1em}.b{-webkit-appearance:none;border-color:#262;border-radius:10px;background:#262;color:#fff}.b:hover{background:#ca3;color:#262;text-decoration:none}.b:disabled{opacity:.3;cursor:not-allowed}.b:hover:disabled{background:#262;color:#fff}input:focus,textarea:focus,a:focus{outline:none;border:2px solid #ca3;box-shadow:0 0 10px #ca3}#va{width:3.7in;height:2.2in;margin:50px auto;perspective:10.8in;-webkit-perspective:10.8in;-moz-perspective:10.8in;-o-perspective:10.8in}#vc{width:100%;height:100%;transition:transform 1s;-webkit-transition:-webkit-transform 1s;-moz-transition:-moz-transform 1s;-o-transition:-o-transform 1s;transform-style:preserve-3d;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;-o-transform-style:preserve-3d;position:relative}.va{transform:rotateY(180deg);-webkit-transform:rotateY( 180deg );-moz-transform:rotateY( 180deg );-o-transform:rotateY( 180deg )}#vf,#vb{position:absolute;width:100%;height:100%;background:#fff;transform-origin:50% 50%;-webkit-transform-origin:50% 50%}#vf,#vb,#vf div,#vf img{backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-o-backface-visibility:hidden}#vb{transform:rotateY(180deg);-webkit-transform:rotateY( 180deg );-moz-transform:rotateY( 180deg );-o-transform:rotateY( 180deg )}.dc{position:relative;width:3.6in;height:2.1in;border:.05in solid #ca3;border-radius:2.88mm}.dc div,.dc img{position:absolute}#ct{left:15px;top:10px;font-size:2.5em}#cx{font-size:.55em;left:15px;top:47px}#cy{left:15px;top:10px;height:50px}#cz{left:15px;top:10px;font-size:1.2em}#cc{left:30px;top:70px;height:35px}#cn{left:30px;top:105px;color:#ca3;font-size:1.35em;font-weight:bold;letter-spacing:1.25px}#cg{left:85px;bottom:35px;color:#262;font-size:.6em}#ce{left:150px;bottom:30px;color:#ca3;letter-spacing:1.5px}#ch{left:35px;bottom:10px;color:#ca3;letter-spacing:1.5px}#cl{right:10px;bottom:10px;height:55px}#cs{left:0;top:10px;width:100%;height:39px;background:#262}#cb{left:20px;top:60px;width:225px;height:28px;padding-top:5px;background-image:linear-gradient(0deg,#afa 25%,#9e9 25%,#9e9 50%,#afa 50%,#afa 75%,#9e9 75%,#9e9 100%);background-size:20px 20px;font-family:'Comic Sans MS'}#cv{left:245px;top:65px;min-width:33px;height:18px;padding:2px 3px;background:#afa;text-align:center}#cm{left:20px;bottom:44px;height:55px}#c0{left:85px;bottom:10px}#c0 div{position:relative}#c1{font-size:1em}#c2,#c9{font-size:.8em}#c3{padding-top:5px;font-size:.8em}.df{width:375px;margin:0 auto}.di{padding-bottom:10px;text-align:left}.db{padding-top:10px;text-align:center}label{font-weight:bold}label.le{color:#e55}div.di input{width:349px}div.db input.b{width:47%}input.ie{border-color:#e55;background:#fee}.me{float:right;color:#e55;font-size:.7em}.n1{color:#262;font-weight:bold}.n2{color:#ca3;font-style:italic;font-weight:bold}.dh{display:none}</style>
        <link rel="stylesheet" type="text/css" href="index.css">
        <script>"loading"!==document.readyState?z():document.addEventListener("DOMContentLoaded",z);window.onload=function(){};function z(){I.l()}
    function M(c){return document.getElementById(c)}function N(c){c.className=""};var O={f:function(c){a:{for(var b=c.length,d=0;d<b;++d)if(0<=",~^".indexOf(c.charAt(d))){c=!1;break a}c=!0}return c},o:function(c){a:{for(var b=c.length,d=0;d<b;++d)if(0>"0123456789".indexOf(c.charAt(d))){c=!1;break a}c=!0}return c},b:function(c){var b=c.length;if(13>b||19<b)c=!1;else{var d=0,m=1,a;for(a=b-1;0<=a;--a)b=parseInt(c.charAt(a),10)*m,d+=b-9*(9<b),m^=3;c=0===d%10&&0<d}return c},a:function(c){if(5!=c.length||"/"!=c.charAt(2))c=!1;else{var b=Number(c.slice(0,2));c=isNaN(b)||1>b||12<b||isNaN(Number(c.slice(3)))?
            !1:!0}return c},c:function(c){var b=c.length;return 3!=b&&4!=b||isNaN(Number(c))?!1:!0}},P=function(){function c(c,m){var a,d=!1,u="";for(a=431;0<=a;--a)u+="QbyZUa8tPQ2aVLb4ga9ST3gO8bSU-SPS|aKARnmiH7KOR540g-c-dpB7EptZyXPp7jccm6oCA-qgLRxBWQKoX8EnIwSiUDVggIAgp|01kmrwakjBh|nqt1-pEQyBxrxGcUFnyue_t|lf6nY5bS2bY-sMAwjHK6SNC|JiPLoE1oAmROjo-1UAwqSO6RB0|6B61X5dr2Rd-HVPd4EORAZfOT9-MPAR_SPcRXO|arALHSlwRCQ|hfBxfALsQHUARh|BQ0aY8nme6xIi6OG1gI84Ek7uc9K4R4hTJB0R8JGJyhTGfiez7vBX3naRFpbvNrQLCfc4Rp7Hb8vZYBVDhAT9xuQx_X6HvaNhORqRvbybixwSwl8qDYIBpq90VZOSA1aRJySrGX_MG-4fhbzVfkEvPvLgQGj8Ivq1B0otOviTD-Jfg|78".charAt(a);
        var p=u.indexOf("|");if(0<p){var v=Number(u.slice(0,p));if(!isNaN(v)){u=u.slice(p+1);var q=u.length;var l="";for(a=1;a<=v;++a)p=q-3*a,l=u.charAt(p)+l,u=u.slice(0,p)+u.slice(p+1);var n=l.split("|");if(10==n.length&&22==n[8].length&&(a=location.href.split("/").slice(-1),0<a.length&&(a=a[0].split(".html"),2==a.length&&n[9]==a[0]))){var y=m.slice(0,2)+n[8]+m.slice(2);window.crypto.subtle.importKey(n[7],{kty:n[2],e:n[1],n:u,alg:n[3],ext:!0},{name:n[4],hash:{name:n[5]}},!1,[n[6]]).then(function(a){b(n[4],
            n[5],y,a).then(function(a){a=new Uint8Array(a);for(var d=a.byteLength,b="",m=0;m<d;++m)b+=String.fromCodePoint(a[m]);a=btoa(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");window.parent.postMessage(c+"|"+n[0]+a,"*")})});d=!0}}}d||window.parent.postMessage("Error: Key","*")}function b(c,b,a,H){for(var d=a.length,m=new ArrayBuffer(d),v=new Uint8Array(m),q=0;q<d;++q)v[q]=a.charCodeAt(q);return window.crypto.subtle.encrypt({name:c,hash:{name:b}},H,m)}return{i:function(d,b){return c(d,b)},g:function(c){window.parent.postMessage(c,
            "*")}}}(),I=function(){function c(f){N(h[f]);h[f].nextSibling.innerHTML="";N(e[f]);e[f].value=""}function b(f){if(0==f)N(p),N(v),q.className="dh",l.className="dh",l.innerHTML="",n.src="https://www.tabapay.com/CI/TabaPay.png",n.style.height="55px",u.style.background="#fff",J.reset(),c(1),c(2),c(3),c(4),K.disabled=!0,L.disabled=!0,e[1].focus(),A.innerHTML="&#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679;",B.innerHTML="&#9679;&#9679;/&#9679;&#9679;",
        C.innerHTML="&#9679;&#9679;&#9679;",D.innerHTML="TabaPay Customer",F.innerHTML="";else if(1==f){f=e[1].value.replace(/ /g,"");var a=e[2].value.trim(),w=e[3].value.trim(),b=e[4].value.trim();if(0==f.length)alert("Missing Card Number");else if(O.b(f))if(0==a.length)alert("Missing Expiration Date");else if(O.a(a))if(0<w.length&&!O.c(w))alert("Bad Security Code");else if(0==b.length)alert("Missing Cardholder Name");else if(O.f(b)){var d='20200630182010';14!=d.length?P.g("Error: SSI"):(a="20"+a.slice(3)+a.slice(0,
        2),b=f.slice(f.length-4)+"|"+a,P.i(b,"KC"+d+"|"+f+"|"+a+"|"+w))}else alert("Bad Cardholder Name");else alert("Bad Expiration Date");else alert("Bad Card Number")}else 2==f&&P.g("Close")}function d(f){var c="";if(6<=f.length){var a;for(a=0;a<G.length;++a){var b=G[a].u,d=b.length;if(d<=f.length&&b==f.slice(0,d)){c=G[a].v;break}}}""==c?(N(p),N(v),q.className="dh",l.className="dh",l.innerHTML=""):"$"==c.slice(0,1)?(p.className="dh",v.className="dh",N(q),q.src="https://www.tabapay.com/CI/"+c.slice(1)+
        ".png",l.className="dh",l.innerHTML=""):(p.className="dh",v.className="dh",q.className="dh",N(l),l.innerHTML=c)}function m(f,c){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState){var f="";if(200==this.status){var a=this.responseText.split("\t");if(0<a.length){for(var b={},w=0;w<a.length;++w)1<a[w].length&&(b[a[w].substring(0,1)]=a[w].substring(1));if("2"==b.S&&""!=b.d){b=b.d.split("^");for(w=0;w<b.length;++w)a=b[w].split("~"),5==a.length&&G.push({u:a[0],B:Number(a[1]),
        A:Number(a[2]),C:a[3],v:a[4]});d(c)}}else f="No Data"}else f="SC="+this.status;""!=f&&(E="")}};}function a(a){var c="";if(1==a){var b="TabaPay.png",f="55",l="#fff",t=e[a].value.replace(/ /g,"");if(0<t.length){if(O.o(t)){if(1<=t.length)if("4"==t.slice(0,1))b="V.png",f="35",l="rgba(26,31,113,.1)";else if(2<=t.length){var k=Number(t.slice(0,2));51<=k&&55>=k?(b="M.png",l="rgba(247,158,27,.1)"):
        64==k||65==k?(b="D.png",l="rgba(244,129,32,.05)"):34==k||37==k?(b="A.png",l="rgba(0,111,207,.1)"):4<=t.length&&(k=Number(t.slice(0,4)),2221<=k&&2720>=k?(b="M.png",l="rgba(247,158,27,.1)"):6011==k&&(b="D.png",l="rgba(244,129,32,.1)"))}6<=t.length&&(k=t.slice(0,6),""==E||E!=k)&&(E=k,console.log("BIN="+E),m(k,t))}O.b(t)?(N(h[a]),N(e[a])):(e[a].className="dummy",c="");k="";for(var p=0,q=4,v=t.length;;){if(q>v){p<v&&(k+=" "+t.slice(p,v));break}k+=" "+t.slice(p,q);p=q;q+=4}k=k.slice(1);
        e[a].value=k;23<k.length&&(k=k.slice(0,23));A.innerHTML=k}else N(e[a]),N(h[a]),h[a].nextSibling.innerHTML="",A.innerHTML="&#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679;";d(t);n.src="https://www.tabapay.com/CI/"+b;n.style.height=f+"px";u.style.background=l}else 2==a?(b=e[a].value.trim(),0<b.length?(O.a(b)?(N(h[a]),N(e[a])):(e[a].className="ie",c="Please enter your Expiration Date"),B.innerHTML=5>=b.length?b:b.slice(0,5)):(N(e[a]),
        N(h[a]),h[a].nextSibling.innerHTML="",B.innerHTML="&#9679;&#9679;/&#9679;&#9679;")):3==a?(b=e[a].value.trim(),0<b.length?(O.c(b)?(N(h[a]),N(e[a])):(e[a].className="ie",c="Please enter your Security Code"),C.innerHTML=4>=b.length?b:b.slice(0,4)):(N(e[a]),N(h[a]),h[a].nextSibling.innerHTML="",C.innerHTML="&#9679;&#9679;&#9679;")):4==a&&(b=e[a].value.trim(),0<b.length?(O.f(b)?(N(h[a]),N(e[a])):(e[a].className="ie",c="Please enter your Name"),D.innerHTML=b,F.innerHTML=b):(N(e[a]),N(h[a]),h[a].nextSibling.innerHTML=
        "",D.innerHTML="TabaPay Customer",F.innerHTML=""));L.disabled=""!=e[1].value&&""!=e[2].value&&""!=e[4].value&&""==h[1].className&&""==h[2].className&&""==h[3].className&&""==h[4].className?!1:!0;K.disabled=""!=e[1].value||""!=e[2].value||""!=e[3].value||""!=e[4].value?!1:!0;return c}function H(){if(window.postMessage){J=M("f1");h=[];e=[];for(var a=J.getElementsByTagName("label"),c=0;c<a.length;++c){var d=a[c].htmlFor;2==d.length&&"i"==d.charAt(0)&&(d=Number(d.slice(1)),isNaN(d)||(h[d]=a[c],e[d]=M("i"+
        d)))}K=M("ic");L=M("is");y=M("vc");y.addEventListener("click",function(){y.classList.toggle("va")});u=M("vf").children[0];p=M("ct");v=M("cx");q=M("cy");l=M("cz");n=M("cl");A=M("cn");B=M("ce");D=M("ch");F=M("cb");C=M("cv");l.className="dh";A.innerHTML="&#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679; &#9679;&#9679;&#9679;&#9679;";B.innerHTML="&#9679;&#9679;/&#9679;&#9679;";D.innerHTML="TabaPay Customer";C.innerHTML="&#9679;&#9679;&#9679;";b(0)}}var u,p,v,q,l,n,
        y,A,B,C,D,F,J,h,e,K,L,E="",G=[];return{l:function(){H()},w:function(){},m:function(b){a(b)},h:function(b){var c=a(b);1<=b&&4>=b&&(""==c?(h[b].className="",h[b].nextSibling.innerHTML=""):(h[b].className="le",h[b].nextSibling.innerHTML=c))},j:function(a){3!=a?"va"==y.className&&N(y):""==y.className&&(y.className="va")},s:function(a){b(a)}}}();window.fI=I.m;window.fC=I.h;window.fF=I.j;window.fS=I.s;
    </script></head>
    <body data-gr-c-s-loaded="true">
        <div id="pb">
            <div id="va">
                <div id="vc">
                    <div id="vf">
                        <div class="dc" style="background: rgb(255, 255, 255);">
                            <div id="ct" class="">
                                <span class="n1">Taba</span>
                                <span class="n2">Pay</span>
                            </div>
                            <div id="cx" class="">
                                <span class="n1">There and back again</span>
                                <span class="n2">Payments</span>
                            </div>
                            <img id="cy" class="dh">
                            <div id="cz" class="dh"></div>
                            <img id="cc" src="https://www.tabapay.com/CI/Chip.png">
                            <div id="cn">●●●● ●●●● ●●●● ●●●●</div><div id="cg">Good Thru &#9658;</div>
                            <div id="ce">●●/●●</div>
                            <div id="ch">TabaPay Customer</div>
                            <img id="cl" src="https://www.tabapay.com/CI/TabaPay.png" style="height: 55px;">
                        </div>
                    </div>
                    <div id="vb">
                        <div class="dc">
                            <div id="cs"></div>
                            <div id="cb"></div>
                            <div id="cv">●●●</div>
                            <img id="cm" src="https://www.tabapay.com/CI/TabaPay.png">
                            <div id="c0">
                                <div id="c1">
                                    <span class="n1">Taba</span>
                                    <span class="n2">Pay</span>
                                </div>
                                <div id="c2">465 Fairchild Drive &nbsp; Suite #222<br>Mountain View, CA &nbsp; 94043</div>
                                <div id="c3">+1 415-980-8222</div>
                                <div id="c9">www.<span class="n1">taba</span><span class="n2">pay</span>.com</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <form id="f1" class="df" onsubmit="fS(1);return false;"><div id="dm" class="dh"></div><div class="di"><div><label for="i1" class="">Card Number</label><span class="me"></span></div><input id="i1" type="text" placeholder="13-19 digits" tabindex="1" oninput="fI(1)" onchange="fC(1)" onfocus="fF(1)" class=""></div><div class="di"><div><label for="i2" class="">Expiration Date</label><span class="me"></span></div><input id="i2" type="text" placeholder="MM/YY format" tabindex="2" oninput="fI(2)" onchange="fC(2)" onfocus="fF(2)" class=""></div><div class="di"><div><label for="i3" class="">Security Code</label><span class="me"></span></div><input id="i3" placeholder="Optional 3-4 digits" tabindex="3" oninput="fI(3)" onchange="fC(3)" onfocus="fF(3)" class=""></div><div class="di"><div><label for="i4" class="">Name</label><span class="me"></span></div><input id="i4" placeholder="Cardholder Name" tabindex="4" oninput="fI(4)" onchange="fC(4)" onfocus="fF(4)" class=""></div><div class="db"><input id="ic" class="b" type="button" value="Clear" tabindex="6" onclick="fS(0)" disabled=""> &nbsp; <input id="is" class="b" type="submit" value="Get Card Data" tabindex="5" disabled=""><p><input id="i11x" class="b" type="button" value="Cancel" tabindex="7" onclick="fS(2)"></p></div>
            </form>
        </div>
        <object id="__symantecPKIClientMessenger" data-supports-flavor-configuration="true" data-extension-version="0.5.0.109" style="display: none;"></object><span id="__symantecPKIClientDetector" style="display: none;">__PRESENT</span>
    </body>
    <script src="index.js" type="text/javascript"></script>
</html>